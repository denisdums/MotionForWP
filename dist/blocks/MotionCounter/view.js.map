{"version":3,"file":"MotionCounter/view.js","mappings":";;;;;;;;;;;;;;;;AAAkE;AACpB;;AAE9C;AACA;AACA;AACA;AACA,8CAA8C,2CAA2C,IAAI;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,8EAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4DAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEkB;;;;;;;;;;;;;;;ACpDlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE2B;;;;;;;;;;;;;;;ACpB3B;;AAEsB;;;;;;;UCFtB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;ACN8B;AAE9B,MAAMC,QAAQ,GAAG;EACbC,aAAa,EAAE,EAAE;EACjBC,IAAI,EAAE,SAAAA,CAAA,EAAY;IACd,IAAI,CAACD,aAAa,GAAGE,QAAQ,CAACC,gBAAgB,CAAC,iBAAiB,CAAC;IACjE,IAAI,CAACH,aAAa,CAACI,OAAO,CAAEC,IAAI,IAAK;MACjCP,8CAAM,CAACO,IAAI,EAAE,IAAI,CAACC,YAAY,CAAC;IACnC,CAAC,CAAC;EACN,CAAC;EAEDA,YAAY,EAAE,SAAAA,CAAUC,EAAE,EAAE;IACxBR,QAAQ,CAACS,YAAY,CAACD,EAAE,CAACE,MAAM,CAAC;EACpC,CAAC;EAEDD,YAAY,EAAE,SAAAA,CAAUD,EAAE,EAAc;IAAA,IAAZG,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;IAClC,MAAMG,iBAAiB,GAAGP,EAAE,CAACQ,WAAW;IACxC,MAAMC,gBAAgB,GAAGC,QAAQ,CAACH,iBAAiB,CAACI,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;IACvE,MAAMC,kBAAkB,GAAG,CAAC;IAC5B,MAAMC,iBAAiB,GAAGC,IAAI,CAACC,IAAI,CAAC,CAACN,gBAAgB,GAAGG,kBAAkB,IAAIT,KAAK,CAAC;IACpF,IAAIa,oBAAoB,GAAGJ,kBAAkB;IAC7C,IAAIK,qBAAqB,GAAGC,WAAW,CAAC,YAAY;MAChDF,oBAAoB,IAAIH,iBAAiB;MACzC,IAAIG,oBAAoB,IAAIP,gBAAgB,EAAE;QAC1CT,EAAE,CAACQ,WAAW,GAAGC,gBAAgB;QACjCU,aAAa,CAACF,qBAAqB,CAAC;MACxC,CAAC,MAAM;QACHjB,EAAE,CAACQ,WAAW,GAAGQ,oBAAoB;MACzC;IACJ,CAAC,EAAEb,KAAK,CAAC;EACb;AACJ,CAAC;;AAED;;AAEAR,QAAQ,CAACyB,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;EACtD5B,QAAQ,CAACE,IAAI,EAAE;AACnB,CAAC,CAAC,C","sources":["webpack://motion-for-wp/./node_modules/@motionone/dom/dist/gestures/in-view.es.js","webpack://motion-for-wp/./node_modules/@motionone/dom/dist/utils/resolve-elements.es.js","webpack://motion-for-wp/./node_modules/@motionone/utils/dist/is-function.es.js","webpack://motion-for-wp/webpack/bootstrap","webpack://motion-for-wp/webpack/runtime/define property getters","webpack://motion-for-wp/webpack/runtime/hasOwnProperty shorthand","webpack://motion-for-wp/webpack/runtime/make namespace object","webpack://motion-for-wp/./resources/blocks/MotionCounter/view.js"],"sourcesContent":["import { resolveElements } from '../utils/resolve-elements.es.js';\nimport { isFunction } from '@motionone/utils';\n\nconst thresholds = {\n    any: 0,\n    all: 1,\n};\nfunction inView(elementOrSelector, onStart, { root, margin: rootMargin, amount = \"any\" } = {}) {\n    /**\n     * If this browser doesn't support IntersectionObserver, return a dummy stop function.\n     * Default triggering of onStart is tricky - it could be used for starting/stopping\n     * videos, lazy loading content etc. We could provide an option to enable a fallback, or\n     * provide a fallback callback option.\n     */\n    if (typeof IntersectionObserver === \"undefined\") {\n        return () => { };\n    }\n    const elements = resolveElements(elementOrSelector);\n    const activeIntersections = new WeakMap();\n    const onIntersectionChange = (entries) => {\n        entries.forEach((entry) => {\n            const onEnd = activeIntersections.get(entry.target);\n            /**\n             * If there's no change to the intersection, we don't need to\n             * do anything here.\n             */\n            if (entry.isIntersecting === Boolean(onEnd))\n                return;\n            if (entry.isIntersecting) {\n                const newOnEnd = onStart(entry);\n                if (isFunction(newOnEnd)) {\n                    activeIntersections.set(entry.target, newOnEnd);\n                }\n                else {\n                    observer.unobserve(entry.target);\n                }\n            }\n            else if (onEnd) {\n                onEnd(entry);\n                activeIntersections.delete(entry.target);\n            }\n        });\n    };\n    const observer = new IntersectionObserver(onIntersectionChange, {\n        root,\n        rootMargin,\n        threshold: typeof amount === \"number\" ? amount : thresholds[amount],\n    });\n    elements.forEach((element) => observer.observe(element));\n    return () => observer.disconnect();\n}\n\nexport { inView };\n","function resolveElements(elements, selectorCache) {\n    var _a;\n    if (typeof elements === \"string\") {\n        if (selectorCache) {\n            (_a = selectorCache[elements]) !== null && _a !== void 0 ? _a : (selectorCache[elements] = document.querySelectorAll(elements));\n            elements = selectorCache[elements];\n        }\n        else {\n            elements = document.querySelectorAll(elements);\n        }\n    }\n    else if (elements instanceof Element) {\n        elements = [elements];\n    }\n    /**\n     * Return an empty array\n     */\n    return Array.from(elements || []);\n}\n\nexport { resolveElements };\n","const isFunction = (value) => typeof value === \"function\";\n\nexport { isFunction };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {inView} from \"motion\";\n\nconst counters = {\n    countersItems: [],\n    init: function () {\n        this.countersItems = document.querySelectorAll('.motion-counter');\n        this.countersItems.forEach((item) => {\n            inView(item, this.handleInView)\n        });\n    },\n\n    handleInView: function (el) {\n        counters.startCounter(el.target);\n    },\n\n    startCounter: function (el, speed = 40) {\n        const counterNumberText = el.textContent;\n        const counterNumberEnd = parseInt(counterNumberText.replace(/\\s/g, ''));\n        const counterNumberStart = 0;\n        const counterNumberStep = Math.ceil((counterNumberEnd - counterNumberStart) / speed);\n        let counterNumberCurrent = counterNumberStart;\n        let counterNumberInterval = setInterval(function () {\n            counterNumberCurrent += counterNumberStep;\n            if (counterNumberCurrent >= counterNumberEnd) {\n                el.textContent = counterNumberEnd;\n                clearInterval(counterNumberInterval);\n            } else {\n                el.textContent = counterNumberCurrent;\n            }\n        }, speed);\n    }\n}\n\n//on dom ready\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    counters.init();\n});"],"names":["inView","counters","countersItems","init","document","querySelectorAll","forEach","item","handleInView","el","startCounter","target","speed","arguments","length","undefined","counterNumberText","textContent","counterNumberEnd","parseInt","replace","counterNumberStart","counterNumberStep","Math","ceil","counterNumberCurrent","counterNumberInterval","setInterval","clearInterval","addEventListener"],"sourceRoot":""}